ABC 105 解説

drafear, E869120, square1001, DEGwer

2018 年 8 月 11 日

A: AtCoder Crackers

N が K の倍数の時、均等に配ることができるので答えは 0 です。そうでない場合、答えを 0 にはできず、
また N を K で割った商とあまりをそれぞれ A; B として、B 人に A + 1 枚、K (cid:0) B 人に A 枚のせんべい
を配ればよく、よって答えは 1 です。

C++ では true; f alse がそれぞれ 0; 1 に対応することを用いれば、以下のように実装することもできます。

#i n c l u d e <s t d i o . h>

i n t main ( )

f

g

i n t a , b ;

s c a n f ("%d%d " , &a , &b ) ;
p r i n t f ("%dnn " , a%b != 0 ) ;

B: Cakes and Donuts

解法 1：全パターン探す

ケーキとドーナツ合計で N 円ということは, ケーキの個数は 0 個以上 N=4 個以下、ドーナツの個数は 0

個以上 N=7 個以下ということが分かります。

この個数の範囲で、ケーキの個数 A ドーナツの個数 B を全探索すればよいです。4A + 7B = N となるよ

うな (A; B) の組があれば "Yes", なければ "No" を出力すればよいです。

解法 2：数学的に解く

実は、答えが "No" となるのは N = 1; 2; 3; 5; 6; 9; 10; 13; 17 の場合のみですので、if 文を用いて場合分け

して解くことができます。

証明：まず N が 21 以上の場合に、答えが必ず "Yes" であることを証明します。まず、N (cid:0) 0; N (cid:0) 7; N (cid:0)
14; N (cid:0) 21 (それぞれドーナツを 0; 1; 2; 3 個買う場合) のうち 4 の倍数であるものは必ず 1 つあります。こ
れを選べば、残りをすべてケーキにすることで適切に買うことができます。N が 20 以下の場合は、「解法 1」

の方法で証明することもできますが、実際には表などを使って手計算でやる方が簡単です。

サンプルコード (C++)

1

解法 1 : https://beta.atcoder.jp/contests/abc105/submissions/2990812

解法 2 : https://beta.atcoder.jp/contests/abc105/submissions/2991021

C: Base -2 Number

N の (cid:0)2 進表記の ((cid:0)2)i の桁に現れる整数を Si とします。このとき、S0 以外の決め方が N を 2 で割っ
たあまりに影響することはないので、S0 は N が奇数の時 1 で、そうでないとき 0 にする必要があります。
S0; S1 以外の決め方が N を 4 で割ったあまりに影響することはないので、S0 が決まっている状況下では
S1 も決まります。このようにして、順次各々の Si の値を決めて行くことができます。また、(cid:0)2 進 K 桁の
数が表すことのできる整数の範囲を考えれば、この繰り返しは高々 O(log N ) 回で終了することも分かり、こ

の問題を解くことができます。

D: Candy Distribution

数列 A に対し、A の先頭 i 項の和を Bi とします。なお、便宜上 B0 = 0 としておきます。
いま、Al + ::: + Ar = Br (cid:0) Bl(cid:0)1 であり、Al + ::: + Ar が M の倍数であることは Br; Bl(cid:0)1 を M で割った
あまりが等しいことと同値です。よって、数えるべきは、Bi; Bj が mod M で等しいような 0 (cid:20) i < j (cid:20) N
の組の個数です。

これは、各 x = 0; :::; M (cid:0) 1 について、Bi を M で割ったあまりが x であるような i の個数を求めておく
ことで計算可能です。M は大きいので長さ M の配列を持つことはできませんが、平衡二分木 (C++ なら

std::map) やハッシュマップ (C++ なら std::unordered map) を用いることで「Bi を M で割ったあまりが
x であるような i が存在するような x」についてのみ値を持っておくことができます。この工夫を用いれば計

算量が (O(N log N ) や乱択 O(N ) 時間に) 改善でき、この問題を解くことができます。

2


